const API_KEY="6f2509490274d40018fe286d26af241f",url="https://gnews.io/api/v4/search?q=",cardsContainer=document.getElementById("cards-container"),showContent=cardsContainer.getAttribute("data-showcontent");if("search"==showContent){window.addEventListener("load",(()=>fetchNews("Technology India")));const e=document.getElementById("search-button"),t=document.getElementById("search-bar");e.addEventListener("click",(()=>{const e=t.value;e&&(fetchNews(e),curSelectedNav?.classList.remove("active"),curSelectedNav=null)}))}else window.addEventListener("load",(()=>fetchNews(showContent)));function reload(){window.location.reload()}async function fetchNews(e){console.log(e);const t=await fetch(`${url}${e}&lang=en&max=10&apiKey=${API_KEY}`);bindData((await t.json()).articles)}function bindData(e){const t=document.getElementById("cards-container"),n=document.getElementById("template-news-card");t.innerHTML="",e.forEach((e=>{const c=n.content.cloneNode(!0);fillDataInCard(c,e),t.appendChild(c)}))}function fillDataInCard(e,t){const n=e.querySelector("#news-img"),c=e.querySelector("#news-title"),o=e.querySelector("#news-source"),a=e.querySelector("#news-desc");n.src=t.image;let l=t.title;c.innerHTML=l.slice(0,71)+"...",a.innerHTML=t.description.slice(0,215)+"...";const r=new Date(t.publishedAt).toLocaleString("en-US",{timeZone:"Asia/Jakarta"});o.innerHTML=`${t.source.name} Â· ${r}`,e.firstElementChild.addEventListener("click",(()=>{window.open(t.url,"_blank")}))}let curSelectedNav=null;function onNavItemClick(e){fetchNews(e);const t=document.getElementById(e);curSelectedNav?.classList.remove("active"),curSelectedNav=t,curSelectedNav.classList.add("active")}let loadMoreBtn=document.querySelector(".custom-btn"),currentItem=6;loadMoreBtn.onclick=()=>{let e=document.querySelectorAll(".cards-container .card");console.log(e);for(var t=currentItem;t<currentItem+6&&t<e.length;t++)e[t].style.display="block";currentItem+=6,currentItem>=e.length&&(loadMoreBtn.style.display="none")};